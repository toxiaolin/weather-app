<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æ©˜å­è‰ºæœ¯ Â· èŒå¨ƒæ°”è´¨å¤§èµ</title>
<style>
  /* ================= å…¨å±€ç°ä»£ UI å˜é‡ ================= */
  :root {
    --primary-gradient: linear-gradient(135deg, #FF7A00 0%, #FFB75E 100%);
    --bg-gradient: linear-gradient(135deg, #FFF0E6 0%, #FFE3D8 100%);
    --card-bg: rgba(255, 255, 255, 0.85);
    --text-main: #333333;
    --text-sub: #888888;
    --shadow-soft: 0 12px 40px rgba(255, 122, 0, 0.12);
    --shadow-btn: 0 8px 24px rgba(255, 122, 0, 0.35);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; }
  
  body {
    background: var(--bg-gradient);
    color: var(--text-main);
    padding-bottom: 80px; 
    overflow-x: hidden;
    /* å¦‚æœå¢¨åˆ€é‡Œæœ‰å¥½çœ‹çš„èƒŒæ™¯å›¾ï¼ŒæŠŠä¸‹é¢çš„æ³¨é‡Šæ‰“å¼€å¹¶æ›¿æ¢é“¾æ¥ */
    /* background-image: url('ä½ çš„å¢¨åˆ€èƒŒæ™¯å›¾é“¾æ¥.png'); background-size: cover; background-position: center; */
  }

  /* ================= é¡µé¢è¿‡æ¸¡åŠ¨ç”» ================= */
  .page { display: none; min-height: 100vh; padding: 30px 20px; flex-direction: column; align-items: center; }
  .page.active { display: flex; animation: slideUpFade 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
  
  @keyframes slideUpFade {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ================= ç»ç’ƒæ‹Ÿæ€å¡ç‰‡ (Glassmorphism) ================= */
  .card { 
    background: var(--card-bg); 
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
    border-radius: 24px; padding: 25px; width: 100%; 
    box-shadow: var(--shadow-soft); margin-bottom: 25px; 
    border: 1px solid rgba(255,255,255,0.6);
    position: relative; overflow: hidden;
  }
  
  /* ================= æ’ç‰ˆä¸æ–‡å­— ================= */
  .title { 
    font-size: 28px; font-weight: 800; margin-bottom: 10px; text-align: center;
    background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    line-height: 1.4;
  }
  .subtitle { font-size: 15px; color: var(--text-sub); margin-bottom: 30px; text-align: center; font-weight: 500;}
  
  /* ================= æœå†»è´¨æ„ŸæŒ‰é’® ================= */
  .btn { 
    background: var(--primary-gradient); color: #fff; border: none; padding: 16px; 
    border-radius: 50px; font-size: 18px; font-weight: bold; width: 100%; 
    text-align: center; display: block; cursor: pointer; 
    box-shadow: var(--shadow-btn); transition: all 0.3s ease;
  }
  .btn:active { transform: scale(0.95); box-shadow: 0 4px 12px rgba(255, 122, 0, 0.2); }
  
  .btn-outline { 
    background: rgba(255, 122, 0, 0.05); color: #FF7A00; border: 2px solid #FF7A00; 
    box-shadow: none; margin-top: 15px;
  }

  /* ================= æµ‹è¯•é€‰é¡¹æ ·å¼ ================= */
  .quiz-option { 
    background: #ffffff; border: 2px solid #f0f0f0; padding: 18px; border-radius: 16px;
    margin-bottom: 15px; font-size: 16px; text-align: center; font-weight: 500;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); cursor: pointer; color: #555;
    box-shadow: 0 2px 10px rgba(0,0,0,0.02);
  }
  .quiz-option:active { transform: scale(0.98); }
  .quiz-option.selected { 
    border-color: #FF7A00; background: #FFF4EB; font-weight: bold; color: #FF7A00;
    box-shadow: 0 4px 15px rgba(255, 122, 0, 0.15);
  }
  
  /* ================= è¡¨å•è¾“å…¥æ¡† ================= */
  input[type="text"], input[type="tel"], input[type="file"] {
    width: 100%; padding: 16px; border: 2px solid #f0f0f0; border-radius: 16px; 
    margin-bottom: 20px; background: #fdfdfd; font-size: 16px; color: #333;
    transition: all 0.3s; outline: none;
  }
  input:focus { border-color: #FFB75E; background: #fff; box-shadow: 0 0 0 4px rgba(255, 122, 0, 0.1); }
  
  /* ================= å›¾ç‰‡ä¸äºŒç»´ç  ================= */
  #posterPreview { width: 100%; max-width: 320px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); display: block; margin: 0 auto; }
  .qr-box { 
    width: 200px; height: 200px; background: #fff; margin: 25px auto; border-radius: 20px; 
    display:flex; align-items:center; justify-content:center; color:#999;
    box-shadow: 0 8px 25px rgba(0,0,0,0.08); padding: 10px;
  }
  .qr-box img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; }

  /* ================= æ‚¬æµ®åº•éƒ¨å¯¼èˆª ================= */
  .nav-bar {
    position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; height: 65px;
    background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
    display: flex; border-radius: 35px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 100; padding: 0 10px;
  }
  .nav-item { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 11px; color: #aaa; cursor: pointer; transition: all 0.3s;}
  .nav-item.active { color: #FF7A00; transform: translateY(-3px);}
  .nav-icon { font-size: 22px; margin-bottom: 4px; transition: all 0.3s;}
  .nav-item.active .nav-icon { transform: scale(1.15); }

  /* æç¤ºæ–‡å­—å¾®åŠ¨ç”» */
  .pulse-text { color: #FF7A00; font-size: 14px; margin-top: 20px; font-weight: bold; text-align: center; animation: pulse 1.5s infinite; }
  @keyframes pulse { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }
</style>
</head>
<body>

  <!-- ================= é¡µé¢ 01ï¼šé¦–é¡µè½åœ°é¡µ ================= -->
  <div id="page-01" class="page active">
    <div style="margin-top: 6vh; text-align: center; width: 100%;">
      <!-- å¦‚æœä½ æœ‰æ¼‚äº®çš„ä¸»è§†è§‰å›¾ï¼Œå¯ä»¥å–æ¶ˆä¸‹æ–¹æ³¨é‡Š -->
      <!-- <img src="ä½ çš„å¢¨åˆ€ä¸»å›¾é“¾æ¥.png" style="width: 80%; margin-bottom: 20px;"> -->
      <h1 class="title" style="font-size: 36px; letter-spacing: 2px;">èŒå¨ƒæ°”è´¨å¤§èµ</h1>
      <p class="subtitle" style="font-size: 16px; margin-top:8px;">å‘æ˜å­©å­ç‹¬ä¸€æ— äºŒçš„é—ªå…‰ç‚¹ âœ¨</p>
    </div>
    
    <div class="card" style="margin-top: 10px; text-align:center;">
      <div style="font-size: 40px; margin-bottom: 10px;">ğŸ</div>
      <p style="font-size: 20px; font-weight:bold; margin-bottom:8px; color: #FF7A00;">å‚ä¸å³å¾—ç¥ç§˜å¤§ç¤¼</p>
      <p style="color:#666; font-size:15px; line-height:1.6;">å®ŒæˆæŒ‘æˆ˜å¹¶åˆ†äº«è‡³æœ‹å‹åœˆ<br>å³å¯é¢†å–ä¸“å±å®šåˆ¶ç¤¼åŒ… + è¯•å¬è¯¾</p>
      <div style="margin-top: 20px; padding: 6px 15px; background: rgba(255,122,0,0.1); border-radius: 20px; display: inline-block; font-size:12px; color:#FF7A00; font-weight:bold;">
        æ´»åŠ¨æ—¶é—´ï¼šå³æ—¥èµ· - æ‹›æ»¡å³æ­¢
      </div>
    </div>
    
    <button class="btn" onclick="navTo('page-02')" style="margin-top: auto;">ç«‹åˆ»å¼€å¯æŒ‘æˆ˜ â”</button>
  </div>

  <!-- ================= é¡µé¢ 02ï¼šç©æ³•é€‰æ‹©é¡µ ================= -->
  <div id="page-02" class="page">
    <h2 class="title">é€‰æ‹©ä½ çš„æŒ‘æˆ˜</h2>
    <p class="subtitle">è¶£å‘³åŒæ“ç©æ³•ï¼Œæµ‹å‡ºå®è´éšè—å¤©èµ‹</p>
    
    <div class="card" onclick="startPlay(1)" style="cursor: pointer;">
      <div style="display: flex; align-items: center; margin-bottom: 10px;">
        <div style="font-size: 30px; margin-right: 15px;">ğŸ“¸</div>
        <div>
          <h3 style="color:#FF7A00; font-size: 18px;">ç©æ³•ä¸€ï¼šèŒç…§é‡‘å¥åˆä¼™äºº</h3>
          <p style="font-size:13px; color:#888; margin-top:4px;">å›ç­”è¶£å‘³é—®é¢˜ï¼Œç”Ÿæˆä¸“å±æµ·æŠ¥</p>
        </div>
      </div>
      <div class="btn btn-outline" style="padding: 10px; font-size:15px; border-radius: 12px;">è¿›å…¥æŒ‘æˆ˜</div>
    </div>
    
    <div class="card" onclick="startPlay(3)" style="cursor: pointer; border-color: #cce5ff;">
      <div style="display: flex; align-items: center; margin-bottom: 10px;">
        <div style="font-size: 30px; margin-right: 15px;">ğŸŒŸ</div>
        <div>
          <h3 style="color:#4facfe; font-size: 18px;">ç©æ³•äºŒï¼šæ°”è´¨æ½œåŠ›æµ‹è¯•</h3>
          <p style="font-size:13px; color:#888; margin-top:4px;">5é“æƒ…æ™¯é¢˜ï¼Œæµ‹å‡ºå®è´æ˜¯å“ªç§å°å¤©æ‰</p>
        </div>
      </div>
      <div class="btn btn-outline" style="padding: 10px; font-size:15px; border-radius: 12px; border-color:#4facfe; color:#4facfe; background: rgba(79, 172, 254, 0.05);">å¼€å§‹æµ‹è¯•</div>
    </div>
  </div>

  <!-- ================= é¡µé¢ 03ï¼šç©æ³•ä¸€ (èŒç…§é‡‘å¥) ================= -->
  <div id="page-03" class="page">
    <h2 class="title">èŒç…§é‡‘å¥åˆä¼™äºº</h2>
    <div class="card">
      <div style="background: rgba(255,122,0,0.05); padding: 15px; border-radius: 12px; margin-bottom: 20px;">
        <p style="font-weight:bold; color: #FF7A00; font-size: 18px; line-height: 1.5;" id="random-question">Q: åŠ è½½ä¸­...</p>
      </div>
      <button class="btn btn-outline" style="font-size:14px; padding:8px 20px; width:auto; border-radius: 50px; margin: -10px auto 20px auto; display: block;" onclick="changeQuestion()">ğŸ”„ æ¢ä¸€ä¸ªé—®é¢˜</button>
      
      <p style="font-size:14px; color:#555; font-weight:bold; margin-bottom:10px;">âœï¸ è®°å½•å®è´çš„å¥‡æ€å¦™æƒ³ï¼š</p>
      <input type="text" id="quote-input" placeholder="ä¾‹å¦‚ï¼šæˆ‘æƒ³å˜å‡ºåƒä¸å®Œçš„å†°æ¿€å‡Œï¼">
      
      <p style="font-size:14px; color:#555; font-weight:bold; margin-bottom:10px;">ğŸ“· ä¸Šä¼ å®è´é«˜æ¸…èŒç…§ï¼š</p>
      <input type="file" id="photo-input" accept="image/*" capture="environment">
    </div>
    <button class="btn" onclick="generateQuotePoster()" style="margin-top: auto;">âœ¨ ç”Ÿæˆé«˜å…‰æµ·æŠ¥</button>
  </div>

  <!-- ================= é¡µé¢ 09ï¼šç©æ³•äºŒ (ç­”é¢˜é¡µ) ================= -->
  <div id="page-09" class="page">
    <div style="width:100%; display: flex; justify-content: space-between; align-items: center; margin-bottom:20px;">
      <h2 class="title" style="margin: 0; font-size: 22px;">æ½œåŠ›æµ‹è¯•</h2>
      <div style="background: #FFF0E6; color: #FF7A00; font-weight: bold; padding: 5px 15px; border-radius: 20px; font-size: 14px;">
        <span id="quiz-progress">1/5</span>
      </div>
    </div>
    
    <div class="card" style="padding: 30px 20px;">
      <h3 id="quiz-q" style="margin-bottom:30px; font-size:20px; line-height:1.5; color: #333; text-align: center;">é¢˜ç›®åŠ è½½ä¸­...</h3>
      <div id="quiz-options">
        <!-- é€‰é¡¹åŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
  </div>

  <!-- ================= é¡µé¢ 04/10ï¼šæµ·æŠ¥ç»“æœå±•ç¤ºé¡µ ================= -->
  <div id="page-poster" class="page">
    <h2 class="title">ä¸“å±æµ·æŠ¥å·²ç”Ÿæˆ</h2>
    <img id="posterPreview" src="" alt="é•¿æŒ‰ä¿å­˜æµ·æŠ¥">
    <p class="pulse-text">ğŸ‘‡ è¯·é•¿æŒ‰ä¸Šæ–¹æµ·æŠ¥ä¿å­˜ï¼Œåˆ†äº«è‡³æœ‹å‹åœˆ</p>
    
    <div class="card" style="margin-top: 25px; padding: 20px;">
      <button class="btn" onclick="navTo('page-11')">æˆ‘å·²åˆ†äº«æœ‹å‹åœˆï¼Œå»é¢†å¥– ğŸ</button>
      <button class="btn btn-outline" style="border:none; background: #f5f5f5; color:#666;" onclick="navTo('page-02')">ç©ç©å…¶ä»–æµ‹è¯•</button>
    </div>
  </div>

  <!-- ================= é¡µé¢ 11ï¼šé¢†å¥–ä¿¡æ¯è¡¨ ================= -->
  <div id="page-11" class="page">
    <h2 class="title">ğŸ é¢†å–ç¥ç§˜å¤§ç¤¼åŒ…</h2>
    <p class="subtitle">è¯·å®Œå–„ä¿¡æ¯ï¼Œæ–¹ä¾¿è€å¸ˆä¸ºæ‚¨æ ¸é”€å¥–å“</p>
    
    <div class="card">
      <input type="text" id="form-name" placeholder="ğŸ‘¤ å°æœ‹å‹å§“å">
      <input type="tel" id="form-age" placeholder="ğŸ‚ å°æœ‹å‹å¹´é¾„">
      <input type="tel" id="form-phone" placeholder="ğŸ“± å®¶é•¿è”ç³»ç”µè¯">
      
      <button class="btn" onclick="submitForm()" style="margin-top: 10px;">ç¡®è®¤æäº¤</button>
      
      <div style="background: #FFF4EB; padding: 12px; border-radius: 12px; margin-top: 20px; display: flex; align-items: center;">
        <span style="font-size: 20px; margin-right: 10px;">âš ï¸</span>
        <span style="font-size: 12px; color: #FF7A00; line-height: 1.4;">é‡è¦æç¤ºï¼šæäº¤åè¯·åŠ¡å¿…ä¿ç•™æœ‹å‹åœˆè®°å½•ï¼Œæ ¸é”€æ—¶éœ€å‘è€å¸ˆå‡ºç¤ºæˆªå›¾å“¦ï¼</span>
      </div>
    </div>
  </div>

  <!-- ================= é¡µé¢ 12ï¼šåŠ å¾®/æ ¸é”€é¡µ ================= -->
  <div id="page-12" class="page">
    <div style="text-align: center; margin-top: 20px;">
      <div style="font-size: 60px; margin-bottom: 10px;">ğŸ‰</div>
      <h2 class="title">æ­å–œç™»è®°æˆåŠŸ</h2>
    </div>
    
    <div class="card" style="text-align:center; margin-top: 10px;">
      <p style="font-size:18px; font-weight:bold; color:#333; margin-bottom:10px;">åªå·®æœ€åä¸€æ­¥å•¦ï¼</p>
      
      <!-- â¬‡ï¸âš ï¸ æ›¿æ¢è¿™é‡Œä¸ºä½ ä»¬æœºæ„å®¢æœçš„ä¼ä¸šå¾®ä¿¡äºŒç»´ç é“¾æ¥ âš ï¸â¬‡ï¸ -->
      <div class="qr-box">
        <img src="https://via.placeholder.com/200?text=è¿™é‡Œæ”¾å¾®ä¿¡äºŒç»´ç " alt="å®¢æœäºŒç»´ç ">
      </div>
      
      <p style="color:#FF7A00; font-size: 18px; font-weight:bold;">é•¿æŒ‰è¯†åˆ«äºŒç»´ç æ·»åŠ ä¸“å±è€å¸ˆ</p>
      <div style="background: #f9f9f9; border-radius: 12px; padding: 15px; margin-top: 20px;">
        <p style="color:#555; font-size:14px; line-height:1.8;">
          å‘é€æš—å·ï¼š<span style="color:#FF7A00; font-weight:bold;">ã€æœ‹å‹åœˆæˆªå›¾ã€‘</span><br>
          å³å¯åœ¨çº¿æŒ‘é€‰å¤§ç¤¼åŒ… / é¢„çº¦å…è´¹è¯•å¬è¯¾ï¼
        </p>
      </div>
    </div>
  </div>

  <!-- ================= åº•éƒ¨é«˜é¢œå€¼æ‚¬æµ®å¯¼èˆª ================= -->
  <div class="nav-bar">
    <div class="nav-item active" onclick="navTo('page-01', this)"><div class="nav-icon">ğŸ </div>é¦–é¡µ</div>
    <div class="nav-item" onclick="navTo('page-02', this)"><div class="nav-icon">ğŸ®</div>ç©æ³•</div>
    <div class="nav-item" onclick="navTo('page-11', this)"><div class="nav-icon">ğŸ</div>é¢†å¥–</div>
    <div class="nav-item" onclick="navTo('page-12', this)"><div class="nav-icon">ğŸ’¬</div>å®¢æœ</div>
  </div>

  <!-- éšè—çš„ Canvas ç”¨äºç”»æµ·æŠ¥ -->
  <canvas id="posterCanvas" width="800" height="1200" style="display:none;"></canvas>

<script>
  // ================= 1. åŸºç¡€å¯¼èˆªæ§åˆ¶ =================
  function navTo(pageId, navElement = null) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    window.scrollTo(0,0);
    
    if(navElement) {
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      navElement.classList.add('active');
    }
  }

  function startPlay(type) {
    if(type === 1) navTo('page-03', document.querySelectorAll('.nav-item')[1]);
    if(type === 3) startQuiz();
  }

  // ================= 2. ç©æ³•ä¸€ï¼šé»˜å¥‘é—®ç­”é€»è¾‘ =================
  const qList = ["å¦‚æœå¦ˆå¦ˆæœ‰é­”æ³•ï¼Œä½ æƒ³è®©å¥¹åšä»€ä¹ˆï¼Ÿ", "å¦‚æœæ˜Ÿæ˜Ÿå¯ä»¥åƒï¼Œæ˜¯ä»€ä¹ˆå‘³é“ï¼Ÿ", "ç»™ä½ ä¸€æ”¯ç¥ç¬”ï¼Œä½ ç¬¬ä¸€ç¬”ç”»ä»€ä¹ˆï¼Ÿ"];
  let currentQIdx = 0;
  function changeQuestion() {
    currentQIdx = (currentQIdx + 1) % qList.length;
    document.getElementById('random-question').innerText = "Q: " + qList[currentQIdx];
  }
  // åˆå§‹åŒ–é—®é¢˜
  changeQuestion();

  function generateQuotePoster() {
    const file = document.getElementById('photo-input').files[0];
    const quote = document.getElementById('quote-input').value || "è¿™å­©å­å¤ªé…·äº†ï¼Œä»€ä¹ˆéƒ½æ²¡è¯´~";
    
    if(!file) { alert("è¯·å…ˆä¸Šä¼ ä¸€å¼ å®è´çš„èŒç…§å“¦ï¼"); return; }
    
    // æ˜¾ç¤ºåŠ è½½æç¤º
    document.querySelector('#page-03 .btn').innerText = "åŠªåŠ›ç”Ÿæˆä¸­...";
    
    const reader = new FileReader();
    reader.onload = function(e) {
      const canvas = document.getElementById('posterCanvas');
      const ctx = canvas.getContext('2d');
      // ç»˜åˆ¶æ¸å˜èƒŒæ™¯
      const grad = ctx.createLinearGradient(0,0,0,1200);
      grad.addColorStop(0, '#FFF0E6'); grad.addColorStop(1, '#FFE3D8');
      ctx.fillStyle = grad; ctx.fillRect(0,0,800,1200);
      
      const img = new Image();
      img.src = e.target.result;
      img.onload = () => {
        // ç”»ç›¸æ¡†é˜´å½±å’Œç™½åº•
        ctx.shadowColor = 'rgba(255,122,0,0.2)'; ctx.shadowBlur = 40;
        ctx.fillStyle = '#fff'; 
        ctx.beginPath(); ctx.roundRect(80, 200, 640, 640, 30); ctx.fill();
        ctx.shadowBlur = 0; // æ¢å¤é˜´å½±

        // å›¾ç‰‡è£å‰ªå¡«å……
        ctx.save();
        ctx.beginPath(); ctx.roundRect(80, 200, 640, 640, 30); ctx.clip();
        let scale = Math.max(640 / img.width, 640 / img.height);
        let sw = 640 / scale; let sh = 640 / scale;
        let sx = (img.width - sw) / 2; let sy = (img.height - sh) / 2;
        ctx.drawImage(img, sx, sy, sw, sh, 80, 200, 640, 640);
        ctx.restore();

        // ç»˜åˆ¶é¡¶éƒ¨æ ‡é¢˜
        ctx.fillStyle = "#FF7A00"; ctx.font = "bold 50px sans-serif"; ctx.textAlign = "center";
        ctx.fillText("âœ¨ èŒå¨ƒå¤§èµ âœ¨", 400, 120);
        
        // ç»˜åˆ¶æ°”æ³¡é‡‘å¥
        ctx.fillStyle = "#fff";
        ctx.beginPath(); ctx.roundRect(80, 900, 640, 150, 20); ctx.fill();
        ctx.fillStyle = "#FF7A00"; ctx.font = "bold 60px sans-serif"; ctx.fillText("â€œ", 120, 960);
        ctx.fillStyle = "#333"; ctx.font = "bold 32px sans-serif"; ctx.textAlign = "left";
        ctx.fillText(quote.length > 15 ? quote.substring(0,15)+"..." : quote, 160, 980);
        
        ctx.fillStyle = "#888"; ctx.font = "24px sans-serif"; ctx.textAlign = "center";
        ctx.fillText("â€”â€”æ©˜å­è‰ºæœ¯Â·å°å°åˆ›æ„å®¶", 400, 1120);
        
        document.getElementById('posterPreview').src = canvas.toDataURL('image/jpeg');
        document.querySelector('#page-03 .btn').innerText = "âœ¨ ç”Ÿæˆé«˜å…‰æµ·æŠ¥";
        navTo('page-poster');
      }
    }
    reader.readAsDataURL(file);
  }

  // ================= 3. ç©æ³•äºŒï¼šèŒå¨ƒæ°”è´¨æµ‹è¯• =================
  const quizData = [
    { q: "å°æœ‹å‹åˆ°äº†æ¸¸ä¹å›­ï¼Œç¬¬ä¸€ååº”æ˜¯ï¼Ÿ", options: [{t:"é©¬ä¸Šå†²å‘è¿‡å±±è½¦", s:"A"}, {t:"æ‹‰ç€å°ä¼™ä¼´ä¸€èµ·ç©", s:"B"}, {t:"å…ˆçœ‹çœ‹å‘¨å›´æœ‰ä»€ä¹ˆ", s:"C"}] },
    { q: "å¦‚æœæ”¶åˆ°ä¸å–œæ¬¢çš„ç¤¼ç‰©ï¼Œä»–ä¼šï¼Ÿ", options: [{t:"ç›´æ¥è¯´ä¸å–œæ¬¢", s:"A"}, {t:"å¼€å¿ƒåœ°å‡è£…å¾ˆå–œæ¬¢", s:"B"}, {t:"å‹‰å¼ºæ”¶ä¸‹æ”¾ä¸€è¾¹", s:"C"}] },
    { q: "é‡åˆ°ä¸è®¤è¯†çš„å°æœ‹å‹ï¼Œä»–ä¼šï¼Ÿ", options: [{t:"èº²åœ¨å¤§äººèº«å", s:"C"}, {t:"ä¸»åŠ¨ä¸Šå»æ‰“æ‹›å‘¼", s:"B"}, {t:"é»˜é»˜è§‚å¯Ÿä¸€ä¼šå†å†³å®š", s:"A"}] },
    { q: "ç”»ç”»çš„æ—¶å€™ï¼Œä»–æœ€å–œæ¬¢ï¼Ÿ", options: [{t:"æ¶‚æ»¡å„ç§é²œè‰³é¢œè‰²", s:"A"}, {t:"ç”»è®¤è¯†çš„äººæˆ–åŠ¨ç‰©", s:"B"}, {t:"ç”»å¾—å¾ˆæ…¢å¾ˆç»†è‡´", s:"C"}] },
    { q: "æ­ç§¯æœ¨å€’äº†ï¼Œä»–ä¼šæ€ä¹ˆåšï¼Ÿ", options: [{t:"å¤§å“­å‘è„¾æ°”", s:"A"}, {t:"å«å¦ˆå¦ˆå¸®å¿™", s:"B"}, {t:"ä¸€å£°ä¸å­é‡æ–°æ­", s:"C"}] }
  ];
  let currentQuiz = 0; let scores = { A:0, B:0, C:0 };

  function startQuiz() {
    currentQuiz = 0; scores = {A:0, B:0, C:0};
    navTo('page-09', document.querySelectorAll('.nav-item')[1]);
    renderQuiz();
  }

  function renderQuiz() {
    document.getElementById('quiz-progress').innerText = `${currentQuiz + 1} / 5`;
    document.getElementById('quiz-q').innerText = quizData[currentQuiz].q;
    
    let optsHtml = "";
    quizData[currentQuiz].options.forEach((opt) => {
      optsHtml += `<div class="quiz-option" onclick="selectOption('${opt.s}')">${opt.t}</div>`;
    });
    document.getElementById('quiz-options').innerHTML = optsHtml;
  }

  function selectOption(scoreType) {
    scores[scoreType]++;
    // ç»™é€‰é¡¹åŠ ä¸ªç‚¹å‡»åŠ¨ç”»å»¶è¿Ÿ
    setTimeout(() => {
      if(currentQuiz < 4) { currentQuiz++; renderQuiz(); } 
      else { generateQuizPoster(); }
    }, 200);
  }

  function generateQuizPoster() {
    let max = 'A';
    if(scores.B > scores[max]) max = 'B';
    if(scores.C > scores[max]) max = 'C';
    
    let resultTitle = "", emoji = "", desc = "";
    if(max === 'A') { resultTitle = "å…ƒæ°”å°ç«å±±"; emoji = "ğŸŒ‹"; desc = "å¤©ç”Ÿè¡ŒåŠ¨æ´¾ï¼Œèƒ½é‡æ»¡æ»¡ï¼";}
    if(max === 'B') { resultTitle = "äººæ°”ç¤¾äº¤ç‹"; emoji = "ğŸ‘‘"; desc = "é«˜æƒ…å•†å®å®ï¼Œåœ¨å“ªéƒ½æ˜¯ç„¦ç‚¹ï¼";}
    if(max === 'C') { resultTitle = "é«˜å†·å°ç”»å®¶"; emoji = "ğŸ¨"; desc = "ç»†èŠ‚æ§ï¼Œæ‹¥æœ‰è‰ºæœ¯å®¶çš„ç‹¬ç‰¹è§†è§’ï¼";}

    const canvas = document.getElementById('posterCanvas');
    const ctx = canvas.getContext('2d');
    const grad = ctx.createLinearGradient(0,0,0,1200);
    grad.addColorStop(0, '#FFEAC7'); grad.addColorStop(1, '#FFD1AA');
    ctx.fillStyle = grad; ctx.fillRect(0,0,800,1200);
    
    // ç»˜åˆ¶ç™½æ¡†
    ctx.fillStyle = '#fff'; ctx.beginPath(); ctx.roundRect(60, 100, 680, 1000, 40); ctx.fill();

    ctx.fillStyle = "#FF7A00"; ctx.font = "bold 50px sans-serif"; ctx.textAlign = "center";
    ctx.fillText("âœ¨ æ½œèƒ½å¤©èµ‹é‰´å®š âœ¨", 400, 220);
    
    ctx.font = "150px sans-serif"; ctx.fillText(emoji, 400, 450);
    
    ctx.fillStyle = "#333"; ctx.font = "bold 65px sans-serif";
    ctx.fillText(resultTitle, 400, 600);
    
    ctx.fillStyle = "#888"; ctx.font = "30px sans-serif";
    ctx.fillText(desc, 400, 700);

    ctx.fillStyle = "#FF7A00"; ctx.font = "bold 28px sans-serif";
    ctx.fillText("ğŸ‘‰ æ©˜å­è‰ºæœ¯å®˜æ–¹è®¤è¯", 400, 950);

    document.getElementById('posterPreview').src = canvas.toDataURL('image/jpeg');
    navTo('page-poster');
  }

  // ================= 4. æäº¤æ•°æ®è·³è½¬ä¼å¾® =================
  function submitForm() {
    const name = document.getElementById('form-name').value;
    const phone = document.getElementById('form-phone').value;
    if(!name || !phone) { alert("è¯·å®Œå–„å®å®å§“åå’Œç”µè¯å“¦~"); return; }
    
    // è·³è½¬åˆ°åŠ è€å¸ˆå¾®ä¿¡é¡µ (å®Œç¾çš„ç§åŸŸæ²‰æ·€é—­ç¯)
    navTo('page-12', document.querySelectorAll('.nav-item')[3]);
  }
</script>

</body>
</html>