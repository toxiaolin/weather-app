<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æ˜Ÿæ²™èŒå¨ƒ Â· æ°”è´¨å¤§èµ</title>
<style>
  /* ================= æ ¸å¿ƒæš—é»‘ä¸»é¢˜å˜é‡ ================= */
  :root {
    --bg-dark: #13142B;
    --bg-card: rgba(255, 255, 255, 0.06);
    --border-glass: rgba(255, 255, 255, 0.12);
    --neon-purple: #B258FF;
    --text-main: #FFFFFF;
    --text-sub: #8E93A8;
    
    --icon-purple: linear-gradient(135deg, #A855F7 0%, #7E22CE 100%);
    --icon-pink: linear-gradient(135deg, #F43F5E 0%, #BE123C 100%);
    --icon-blue: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, sans-serif; -webkit-tap-highlight-color: transparent; }
  
  body {
    background: var(--bg-dark);
    color: var(--text-main);
    padding-bottom: 20px; 
    overflow-x: hidden;
    /* æ¨¡æ‹Ÿæ˜Ÿç©º/æ·±é‚ƒèƒŒæ™¯è¿‡æ¸¡ */
    background-image: radial-gradient(circle at 50% -20%, #2A2155 0%, var(--bg-dark) 60%);
    min-height: 100vh;
  }

  /* ================= é¡¶éƒ¨å¯¼èˆªæ¡ ================= */
  .top-bar {
    display: flex; justify-content: space-between; align-items: center;
    padding: 20px; width: 100%;
  }
  .brand { display: flex; align-items: center; font-weight: 900; font-size: 16px; letter-spacing: 1px;}
  .brand-icon { 
    width: 32px; height: 32px; background: linear-gradient(135deg, #f472b6, #d946ef); 
    border-radius: 10px; margin-right: 10px; display: flex; justify-content: center; align-items: center; font-size:18px;
  }
  .share-btn {
    width: 36px; height: 36px; background: rgba(255,255,255,0.1); border-radius: 50%;
    display: flex; justify-content: center; align-items: center; font-size: 16px; cursor: pointer;
  }

  /* ================= é¡µé¢åˆ‡æ¢åŠ¨ç”» ================= */
  .page { display: none; padding: 0 20px; flex-direction: column; align-items: center; width: 100%; }
  .page.active { display: flex; animation: fadeIn 0.4s ease forwards; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

  /* ================= éœ“è™¹æ–‡å­—ç‰¹æ•ˆ ================= */
  .neon-title { 
    font-size: 44px; font-weight: 900; text-align: center; margin-top: 2vh; margin-bottom: 15px; line-height: 1.2;
    color: #FFFFFF;
    text-shadow: 0 0 10px rgba(178, 88, 255, 0.8), 
                 0 0 20px rgba(178, 88, 255, 0.5), 
                 0 0 40px rgba(178, 88, 255, 0.3);
  }
  .subtitle { font-size: 14px; color: var(--text-sub); margin-bottom: 40px; text-align: center; letter-spacing: 2px;}

  /* ================= ç»ç’ƒè´¨æ„Ÿèœå•å¡ç‰‡ ================= */
  .menu-card {
    background: var(--bg-card);
    border: 1px solid var(--border-glass);
    border-radius: 24px; padding: 20px; width: 100%;
    display: flex; align-items: center; margin-bottom: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    transition: all 0.2s ease; cursor: pointer;
  }
  .menu-card:active { transform: scale(0.96); background: rgba(255, 255, 255, 0.09); }
  
  .menu-icon {
    width: 65px; height: 65px; border-radius: 18px; display: flex; justify-content: center; align-items: center;
    font-size: 30px; margin-right: 18px; color: #fff; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  }
  .menu-text { flex: 1; }
  .menu-text h3 { font-size: 20px; font-weight: bold; margin-bottom: 5px; color: #fff; }
  .menu-text p { font-size: 12px; color: var(--text-sub); line-height: 1.4; }
  .menu-arrow { width: 24px; height: 24px; color: #5B607A; display: flex; justify-content: center; align-items: center; }

  /* ================= åº•éƒ¨æ ‡ç­¾ ================= */
  .footer-info { margin-top: 4vh; text-align: center; width: 100%; padding-bottom: 30px;}
  .footer-time { font-size: 12px; color: #5B607A; margin-bottom: 12px; }
  .tags { display: flex; justify-content: center; gap: 10px; }
  .tag { border: 1px solid #32364B; color: #5B607A; padding: 4px 12px; border-radius: 6px; font-size: 12px; }

  /* ================= é€šç”¨å†…é¡µ UI ================= */
  .inner-card {
    background: var(--bg-card); border: 1px solid var(--border-glass); border-radius: 20px;
    padding: 25px 20px; width: 100%; margin-bottom: 20px; backdrop-filter: blur(10px);
  }
  .btn {
    background: var(--icon-purple); color: #fff; border: none; padding: 16px; 
    border-radius: 30px; font-size: 18px; font-weight: bold; width: 100%; 
    text-align: center; cursor: pointer; margin-top: 10px;
  }
  .btn:active { transform: scale(0.95); }
  .btn-outline { background: transparent; border: 1px solid var(--neon-purple); color: #D8B4FE; }
  
  /* è¡¨å•è¾“å…¥æ¡† (æš—é»‘ç‰ˆ) */
  input[type="text"], input[type="tel"], input[type="file"], select {
    width: 100%; padding: 16px; border: 1px solid var(--border-glass); border-radius: 12px; 
    margin-bottom: 15px; background: rgba(0,0,0,0.2); font-size: 16px; color: #fff; outline: none;
    -webkit-appearance: none; appearance: none; /* å»é™¤åŸç”Ÿä¸‘é™‹çš„ç®­å¤´ */
  }
  input::placeholder { color: #5B607A; }
  select:invalid { color: #5B607A; } /* æœªé€‰æ‹©æ—¶çš„å ä½ç¬¦é¢œè‰² */
  select option { background: #13142B; color: #fff; } /* å±•å¼€åçš„ä¸‹æ‹‰èœå•é¢œè‰² */
    width: 100%; padding: 16px; border: 1px solid var(--border-glass); border-radius: 12px; 
    margin-bottom: 15px; background: rgba(0,0,0,0.2); font-size: 16px; color: #fff; outline: none;
  input::placeholder { color: #5B607A; }

  /* æµ‹è¯•ç­”é¢˜é€‰é¡¹ */
  .quiz-option { 
    background: rgba(255,255,255,0.05); border: 1px solid var(--border-glass); padding: 16px; border-radius: 12px;
    margin-bottom: 12px; font-size: 16px; text-align: center; cursor: pointer; color: #ccc; transition: 0.2s;
  }
  .quiz-option.selected { border-color: var(--neon-purple); background: rgba(178, 88, 255, 0.15); font-weight: bold; color: #fff; }
  
  /* æµ·æŠ¥å±•ç¤º */
  #posterPreview { width: 100%; max-width: 300px; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: block; margin: 0 auto; border: 1px solid var(--border-glass);}
  
  /* è¿”å›æŒ‰é’® */
  .back-btn { font-size: 14px; color: var(--text-sub); text-align: center; margin-top: 20px; text-decoration: underline; cursor:pointer;}
</style>
</head>
<body>

  <!-- ================= é¡µé¢ 01ï¼šä¸»èœå•é¡µ (å®Œç¾å¤åˆ»è®¾è®¡ç¨¿) ================= -->
  <div id="page-main" class="page active">
    <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
    <div class="top-bar">
      <div class="brand">
        <!-- è¿™é‡ŒæŠŠåŸæ¥çš„ ğŸ§¸ æ¢æˆäº†ä½ çš„ logo.png -->
        <img src="logo.png" style="height: 40px; width: 100px; border-radius: 8px; margin-right: 10px; object-fit: cover;">
      </div>
      <div class="share-btn">ğŸ”—</div>
    </div>

    <!-- æ ‡é¢˜åŒº -->
    <h1 class="neon-title">æ˜Ÿæ²™èŒå¨ƒ<br>æ°”è´¨å¤§èµ</h1>
    <p class="subtitle">å¯»è§…å…¨æ˜Ÿæ²™æœ€æœ‰èŒƒå„¿çš„å¼€å­¦é”¦é²¤</p>

    <!-- ç©æ³•å¡ç‰‡ 1 -->
    <div class="menu-card" onclick="navTo('page-game1')">
      <div class="menu-icon" style="background: var(--icon-purple);">ğŸ¤</div>
      <div class="menu-text">
        <h3>äº²å­é»˜å¥‘æŒ‘æˆ˜</h3>
        <p>AIåˆæˆä¸“å±æ°”è´¨å†™çœŸä¸è§†é¢‘</p>
      </div>
      <div class="menu-arrow">â–¶</div>
    </div>

    <!-- ç©æ³•å¡ç‰‡ 2 -->
    <div class="menu-card" onclick="navTo('page-game2')">
      <div class="menu-icon" style="background: var(--icon-pink);">ğŸ“¸</div>
      <div class="menu-text">
        <h3>èŒå¨ƒè¡¨æƒ…å¤§èµ</h3>
        <p>è§£é”æ˜Ÿæ²™å¼€å­¦å­£ç¤¾äº¤æ˜¾çœ¼åŒ…</p>
      </div>
      <div class="menu-arrow">â–¶</div>
    </div>

    <!-- ç©æ³•å¡ç‰‡ 3 -->
    <div class="menu-card" onclick="navTo('page-game3')">
      <div class="menu-icon" style="background: var(--icon-blue);">ğŸ–ï¸</div>
      <div class="menu-text">
        <h3>å®¶é•¿æ°”è´¨è¯„æµ‹</h3>
        <p>çœ‹çœ‹ä½ æ˜¯å“ªç§ç±»å‹çš„æ˜Ÿæ²™ç¡¬æ ¸è€çˆ¸/å¦ˆ</p>
      </div>
      <div class="menu-arrow">â–¶</div>
    </div>

    <!-- åº•éƒ¨æ ‡è¯† -->
    <div class="footer-info">
      <div class="footer-time">æ´»åŠ¨æ—¶é—´ï¼š2026.02.23 - 2026.03.10</div>
      <div class="tags">
        <div class="tag">æ˜Ÿæ²™è¡—é“æˆæƒ</div>
        <div class="tag">å“ç‰Œè”åŠ¨æ”¯æŒ</div>
      </div>
    </div>
  </div>

  <!-- ================= ç©æ³•ä¸€ï¼šäº²å­é»˜å¥‘æŒ‘æˆ˜ (ä¼ ç…§ç‰‡+å†™è¯) ================= -->
  <div id="page-game1" class="page">
    <h2 style="margin: 30px 0 20px; font-size: 24px; text-align:center;">äº²å­é»˜å¥‘æŒ‘æˆ˜</h2>
    <div class="inner-card">
      <p style="color:var(--text-sub); margin-bottom:10px; font-size: 14px;">Q: å¦‚æœå¦ˆå¦ˆæœ‰é­”æ³•ï¼Œä½ æƒ³è®©å¥¹åšä»€ä¹ˆï¼Ÿ</p>
      <input type="text" id="quote-input" placeholder="è¾“å…¥å®è´çš„ç¥å›å¤...">
      
      <p style="color:var(--text-sub); margin-bottom:10px; font-size: 14px; margin-top: 10px;">ä¸Šä¼ å®è´é“ç…§ï¼š</p>
      <input type="file" id="photo-input1" accept="image/*" capture="environment">
    </div>
    <button class="btn" onclick="generatePoster('game1')">ç”Ÿæˆå†™çœŸæµ·æŠ¥</button>
    <div class="back-btn" onclick="navTo('page-main')">è¿”å›ä¸»é¡µ</div>
  </div>

  <!-- ================= ç©æ³•äºŒï¼šèŒå¨ƒè¡¨æƒ…å¤§èµ (ä¼ ææ€ªç…§ç‰‡) ================= -->
  <div id="page-game2" class="page">
    <h2 style="margin: 30px 0 20px; font-size: 24px; text-align:center;">èŒå¨ƒè¡¨æƒ…å¤§èµ</h2>
    <div class="inner-card" style="text-align: center;">
      <div style="font-size: 50px; margin-bottom: 10px;">ğŸ¤ª</div>
      <p style="color:#fff; font-weight:bold; margin-bottom: 5px;">å¯»æ‰¾ç¤¾äº¤æ˜¾çœ¼åŒ…</p>
      <p style="color:var(--text-sub); font-size: 14px; margin-bottom:20px;">æŠ“æ‹ä¸€å¼ å®è´æœ€ææ€ªã€æœ€å¯çˆ±çš„è¡¨æƒ…</p>
      
      <input type="file" id="photo-input2" accept="image/*" capture="environment">
    </div>
    <button class="btn" style="background: var(--icon-pink);" onclick="generatePoster('game2')">ç”Ÿæˆè¡¨æƒ…åŒ…æµ·æŠ¥</button>
    <div class="back-btn" onclick="navTo('page-main')">è¿”å›ä¸»é¡µ</div>
  </div>

  <!-- ================= ç©æ³•ä¸‰ï¼šå®¶é•¿æ°”è´¨è¯„æµ‹ (ç­”é¢˜æµ‹è¯•) ================= -->
  <div id="page-game3" class="page">
    <h2 style="margin: 30px 0; font-size: 24px; text-align:center;">ç¡¬æ ¸å®¶é•¿è¯„æµ‹</h2>
    <div style="width:100%; text-align:right; color:var(--neon-purple); font-size:14px; margin-bottom:10px; font-weight:bold;">
      <span id="quiz-progress">1/3</span>
    </div>
    <div class="inner-card">
      <h3 id="quiz-q" style="margin-bottom:25px; font-size:18px; line-height:1.5; color: #fff;">é¢˜ç›®åŠ è½½ä¸­...</h3>
      <div id="quiz-options">
        <!-- é€‰é¡¹åŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
    <div class="back-btn" onclick="navTo('page-main')">æ”¾å¼ƒç­”é¢˜ï¼Œè¿”å›ä¸»é¡µ</div>
  </div>

  <!-- ================= ç»“æœæµ·æŠ¥é¡µ (å…±ç”¨) ================= -->
  <div id="page-poster" class="page">
    <h2 style="margin: 30px 0 20px; font-size: 24px;">ç”ŸæˆæˆåŠŸ</h2>
    <img id="posterPreview" src="" alt="é•¿æŒ‰ä¿å­˜æµ·æŠ¥">
    <p style="color:var(--neon-purple); font-size: 14px; margin-top: 20px; font-weight: bold; text-align: center;">ğŸ‘‡ è¯·é•¿æŒ‰æµ·æŠ¥ä¿å­˜ï¼Œåˆ†äº«è‡³æœ‹å‹åœˆ</p>
    
    <div style="width: 100%; margin-top: 30px;">
      <button class="btn" onclick="navTo('page-form')">æˆ‘å·²åˆ†äº«æœ‹å‹åœˆï¼Œå»é¢†å¥– ğŸ</button>
      <button class="btn btn-outline" onclick="navTo('page-main')">è¿”å›é¦–é¡µ</button>
    </div>
  </div>

  <!-- ================= é˜²è–…ç¾Šæ¯›ï¼šä¿¡æ¯æäº¤é¡µ ================= -->
  <div id="page-form" class="page">
    <h2 style="margin: 30px 0 20px; font-size: 24px;">é”¦é²¤ç¤¼åŒ…ç™»è®°</h2>
    <p style="color:var(--text-sub); font-size:14px; margin-bottom:20px; text-align:center;">è¯·å®Œå–„ä¿¡æ¯ï¼Œæ–¹ä¾¿è€å¸ˆä¸ºæ‚¨æ ¸é”€å¥–å“</p>
    
    <div class="inner-card">
      <input type="text" id="form-name" placeholder="ğŸ‘¤ å®è´å§“å">
      <input type="tel" id="form-age" placeholder="ğŸ‚ å®è´å¹´é¾„">
      <input type="tel" id="form-phone" placeholder="ğŸ“± å®¶é•¿æ‰‹æœºå·">
      
      <!-- æ–°å¢ï¼šæ„Ÿå…´è¶£çš„ç§‘ç›® ä¸‹æ‹‰æ¡† -->
      <div style="position: relative;">
        <select id="form-subject" required>
          <option value="" disabled selected hidden>ğŸ¨ è¯·é€‰æ‹©æ„Ÿå…´è¶£çš„ç§‘ç›®</option>
          <option value="å°‘å„¿ç¾æœ¯">å°‘å„¿ç¾æœ¯</option>
          <option value="å°‘å„¿å£æ‰">å°‘å„¿å£æ‰</option>
          <option value="å°‘å„¿èˆè¹ˆ">å°‘å„¿èˆè¹ˆ</option>
          <option value="ä¹¦æ³•">ä¹¦æ³•</option>
          <option value="å…¶ä»–">å…¶ä»–</option>
        </select>
        <!-- è‡ªå®šä¹‰ä¸‹æ‹‰å°ç®­å¤´ -->
        <div style="position: absolute; right: 15px; top: 18px; color: #5B607A; pointer-events: none;">â–¼</div>
      </div>
      
      <button class="btn" onclick="submitForm()">æäº¤æ ¸é”€ä¿¡æ¯</button>
      
      <p style="color: #F87171; font-size: 12px; margin-top: 15px; text-align: center; line-height: 1.5;">
        âš ï¸ æäº¤åè¯·åŠ¡å¿…ä¿ç•™æœ‹å‹åœˆè®°å½•ï¼Œ<br>ç°åœºæ ¸é”€éœ€å‡ºç¤ºæ‰‹æœºæˆªå›¾å“¦ï¼
      </p>
    </div>
  </div>

  <!-- ================= æœ€ç»ˆé¡µï¼šå¯¼æµè‡³ä¼å¾® ================= -->
  <div id="page-finish" class="page">
    <div style="text-align: center; margin-top: 6vh;">
      <div style="font-size: 60px; margin-bottom: 20px;">ğŸ‰</div>
      <h2 style="font-size: 28px; margin-bottom: 10px;">ç™»è®°æˆåŠŸ</h2>
    </div>
    
    <div class="inner-card" style="text-align:center; margin-top: 20px;">
      <p style="font-size:16px; font-weight:bold; color:#fff; margin-bottom:20px;">æœ€åä¸€æ­¥ï¼šæ·»åŠ è€å¸ˆå¾®ä¿¡å‘æˆªå›¾</p>
      
<!-- æ›¿æ¢ä¸ºä½ ä»¬æœºæ„çš„å¾®ä¿¡äºŒç»´ç  -->
      <div style="width:180px; height:180px; background:#fff; margin:0 auto; border-radius:16px; padding:10px;">
        <!-- è¿™é‡ŒæŠŠå ä½å›¾æ¢æˆäº†ä½ çš„ qr.png -->
        <img src="qr.png" style="width:100%; height:100%; object-fit: contain;">
      </div>

      <p style="color:var(--neon-purple); font-size: 16px; font-weight:bold; margin-top: 20px;">é•¿æŒ‰è¯†åˆ«äºŒç»´ç æ·»åŠ è€å¸ˆ</p>
      <p style="color:var(--text-sub); font-size:14px; margin-top:10px; line-height:1.6;">
        å‘é€æš—å· <span style="color:#fff;">ã€æœ‹å‹åœˆæˆªå›¾ã€‘</span><br>
        å³åˆ»ä¸ºæ‚¨é”å®šå¤§ç¤¼åŒ…ï¼
      </p>
    </div>
  </div>

  <!-- éšè— Canvas -->
  <canvas id="posterCanvas" width="800" height="1200" style="display:none;"></canvas>

<script>
  /* ================= é¡µé¢è·¯ç”± ================= */
  function navTo(pageId) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    window.scrollTo(0,0);
    if(pageId === 'page-game3') startQuiz();
  }

  /* ================= ç”Ÿæˆæµ·æŠ¥å¼•æ“ ================= */
  function generatePoster(gameType) {
    let fileInput, quoteText = "";
    if(gameType === 'game1') {
      fileInput = document.getElementById('photo-input1').files[0];
      quoteText = document.getElementById('quote-input').value || "è¿™å®è´å¤ªé…·äº†ï¼Œä»€ä¹ˆéƒ½æ²¡è¯´~";
    } else {
      fileInput = document.getElementById('photo-input2').files[0];
      quoteText = "æ˜Ÿæ²™å¤´å·ç¤¾äº¤æ˜¾çœ¼åŒ…å‡ºç‚‰ï¼ğŸ¤ª";
    }

    if(!fileInput) { alert("è¯·å…ˆä¸Šä¼ ä¸€å¼ ç…§ç‰‡å“¦ï¼"); return; }

    const reader = new FileReader();
    reader.onload = function(e) {
      const canvas = document.getElementById('posterCanvas');
      const ctx = canvas.getContext('2d');
      
      // ç”»æµ·æŠ¥æš—é»‘èƒŒæ™¯
      const grad = ctx.createLinearGradient(0,0,0,1200);
      grad.addColorStop(0, '#1A1C35'); grad.addColorStop(1, '#0C0E1F');
      ctx.fillStyle = grad; ctx.fillRect(0,0,800,1200);

      const img = new Image();
      img.src = e.target.result;
      img.onload = () => {
        // ç”»ç›¸æ¡† (å¸¦ç´«è‰²å‘å…‰)
        ctx.shadowColor = '#B258FF'; ctx.shadowBlur = 30;
        ctx.fillStyle = '#fff'; 
        ctx.beginPath(); ctx.roundRect(80, 200, 640, 640, 40); ctx.fill();
        ctx.shadowBlur = 0;

        // ç”»ç…§ç‰‡ (Coverè£å‰ª)
        ctx.save();
        ctx.beginPath(); ctx.roundRect(80, 200, 640, 640, 40); ctx.clip();
        let scale = Math.max(640 / img.width, 640 / img.height);
        let sw = 640 / scale, sh = 640 / scale;
        let sx = (img.width - sw) / 2, sy = (img.height - sh) / 2;
        ctx.drawImage(img, sx, sy, sw, sh, 80, 200, 640, 640);
        ctx.restore();

        // æ–‡å­—æ’ç‰ˆ
        ctx.fillStyle = "#fff"; ctx.font = "bold 56px sans-serif"; ctx.textAlign = "center";
        ctx.fillText(gameType === 'game1' ? "æ˜Ÿæ²™èŒå¨ƒå†™çœŸ" : "æ˜Ÿæ²™æ˜¾çœ¼åŒ…å¤§èµ", 400, 130);
        
        ctx.fillStyle = "rgba(255,255,255,0.1)";
        ctx.beginPath(); ctx.roundRect(80, 900, 640, 160, 20); ctx.fill();
        ctx.fillStyle = "#D8B4FE"; ctx.font = "bold 32px sans-serif";
        ctx.fillText(quoteText, 400, 980);
        ctx.fillStyle = "#8E93A8"; ctx.font = "24px sans-serif";
        ctx.fillText("â€”â€” æ˜Ÿæ²™ 2026 å®˜æ–¹è®¤è¯", 400, 1030);
        
        document.getElementById('posterPreview').src = canvas.toDataURL('image/jpeg');
        navTo('page-poster');
      }
    }
    reader.readAsDataURL(fileInput);
  }

  /* ================= ç©æ³•ä¸‰ï¼šå®¶é•¿æ°”è´¨è¯„æµ‹ ================= */
  const quizData = [
    { q: "å‘¨æœ«å¸¦å­©å­å‡ºå»ç©ï¼Œä½ é€šå¸¸ä¼šï¼Ÿ", options: [{t:"åšè¯¦ç»†æ”»ç•¥ï¼ŒæŒ‰è®¡åˆ’èµ°", s:"A"}, {t:"éšå«éšèµ°ï¼Œä¸»æ‰“ä¸€ä¸ªéšæ€§", s:"B"}, {t:"ç»™å¨ƒæŠ¥ä¸ªä½“éªŒè¯¾ï¼Œæˆ‘åœ¨æ—è¾¹å–å’–å•¡", s:"C"}] },
    { q: "å­©å­å¼„è„äº†åˆšä¹°çš„æ–°è¡£æœï¼Œä½ çš„ååº”ï¼Ÿ", options: [{t:"å´©æºƒï¼é©¬ä¸Šè„±ä¸‹æ¥æ´—", s:"A"}, {t:"èµ¶ç´§æ‹ç…§å‘æœ‹å‹åœˆ", s:"B"}, {t:"è„å°±è„å§ï¼Œç©å¾—å¼€å¿ƒæœ€é‡è¦", s:"C"}] },
    { q: "ç»™å­©å­è¾…å¯¼ä½œä¸šæ—¶ï¼Œä½ çš„çŠ¶æ€æ˜¯ï¼Ÿ", options: [{t:"æ¯æ…ˆå­å­ï¼Œè€å¿ƒè®²è§£", s:"A"}, {t:"é¸¡é£ç‹—è·³ï¼Œéšæ—¶çˆ†å‘", s:"B"}, {t:"ç›´æ¥äº¤ç»™çˆ¸çˆ¸/è¾…å¯¼ç­", s:"C"}] }
  ];
  let currentQuiz = 0; let scores = { A:0, B:0, C:0 };

  function startQuiz() {
    currentQuiz = 0; scores = {A:0, B:0, C:0};
    renderQuiz();
  }

  function renderQuiz() {
    document.getElementById('quiz-progress').innerText = `${currentQuiz + 1} / 3`;
    document.getElementById('quiz-q').innerText = quizData[currentQuiz].q;
    let optsHtml = "";
    quizData[currentQuiz].options.forEach((opt) => {
      optsHtml += `<div class="quiz-option" onclick="selectOption('${opt.s}')">${opt.t}</div>`;
    });
    document.getElementById('quiz-options').innerHTML = optsHtml;
  }

  function selectOption(scoreType) {
    scores[scoreType]++;
    setTimeout(() => {
      if(currentQuiz < 2) { currentQuiz++; renderQuiz(); } 
      else { generateQuizResult(); }
    }, 200);
  }

  function generateQuizResult() {
    let max = 'A';
    if(scores.B > scores[max]) max = 'B';
    if(scores.C > scores[max]) max = 'C';
    let res = max === 'A' ? "å…¨èƒ½æ“å¿ƒå‹è€å¦ˆ" : max === 'B' ? "å¿«ä¹æ”¾å…»å‹ç¡¬æ ¸çˆ¸å¦ˆ" : "ä½›ç³»èººå¹³å‹å®¶é•¿";

    const canvas = document.getElementById('posterCanvas');
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#1A1C35'; ctx.fillRect(0,0,800,1200);
    
    ctx.fillStyle = '#fff'; ctx.font = "bold 60px sans-serif"; ctx.textAlign = "center";
    ctx.fillText("ç¡¬æ ¸å®¶é•¿é‰´å®šæŠ¥å‘Š", 400, 300);
    ctx.fillStyle = "#B258FF"; ctx.font = "bold 70px sans-serif";
    ctx.fillText(res, 400, 600);
    
    document.getElementById('posterPreview').src = canvas.toDataURL('image/jpeg');
    navTo('page-poster');
  }

  /* ================= æäº¤è¡¨å• ================= */
  function submitForm() {
    const name = document.getElementById('form-name').value.trim();
    const age = document.getElementById('form-age').value.trim();
    const phone = document.getElementById('form-phone').value.trim();
    const subject = document.getElementById('form-subject').value;

    // ä¸¥è°¨çš„è¡¨å•æ ¡éªŒ
    if(!name) { alert("è¯·å¡«å†™å®è´å§“åå“¦~"); return; }
    if(!age) { alert("è¯·å¡«å†™å®è´å¹´é¾„å“¦~"); return; }
    if(!phone || phone.length < 11) { alert("è¯·å¡«å†™æ­£ç¡®çš„å®¶é•¿æ‰‹æœºå·å“¦~"); return; }
    if(!subject) { alert("è¯·é€‰æ‹©æ„Ÿå…´è¶£çš„ç§‘ç›®~"); return; }

    /* 
       ================= âš ï¸ æ ¸å¿ƒæ•°æ®æç¤º âš ï¸ =================
       å› ä¸ºé™æ€ H5 (Github Pages) æ— æ³•ç›´æ¥é™é»˜å‘é€æ•°æ®ç»™è…¾è®¯æ–‡æ¡£ï¼Œ
       ç›®å‰æœ€ç¨³å¦¥çš„ã€é˜²è–…ç¾Šæ¯›å¤§æ‹›ã€‘æ˜¯ï¼š
       è¿™é‡Œæ ¡éªŒå®Œå¿…å¡«é¡¹åï¼Œç›´æ¥è·³è½¬åˆ°â€œæ·»åŠ è€å¸ˆä¼ä¸šå¾®ä¿¡â€çš„æœ€ç»ˆé¡µï¼ˆpage-finishï¼‰ã€‚
       è®©å®¶é•¿æ‰«ç åŠ è€å¸ˆï¼Œè€å¸ˆç›´æ¥åœ¨å¾®ä¿¡é‡Œæ‰‹åŠ¨åœ¨è…¾è®¯æ–‡æ¡£ç™»è®°ï¼Œè¿™æ˜¯è½¬åŒ–ç‡æœ€é«˜ã€é˜²åˆ·æœ€å®‰å…¨çš„åšæ³•ï¼
    */
    
    // æäº¤æˆåŠŸï¼Œå¯¼æµè‡³æœ€ç»ˆä¼å¾®æ‰«ç é¡µ
    navTo('page-finish');
  }
  /* ================= è·³è½¬åˆ°è…¾è®¯æ–‡æ¡£æ”¶é›†è¡¨ ================= */
  function jumpToForm() {
    // âš ï¸ åŠ¡å¿…æŠŠè¿™é‡Œçš„é“¾æ¥æ›¿æ¢æˆä½ ç”Ÿæˆçš„ /form/page/... é“¾æ¥ âš ï¸
    // å¦‚æœä½ åšæŒç”¨ /sheet/ é“¾æ¥ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸ª Excel è¡¨æ ¼ï¼Œè€Œä¸æ˜¯å¡«ç©ºé¢˜ã€‚
    window.location.href = "https://docs.qq.com/smartsheet/form/SWWcLGMLjhjB%2FtsU9vd%2FvYnb68?tab=tsU9vd";
  }
</script>
</body>
</html>